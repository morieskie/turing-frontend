<!-- Page Title-->
<div class="page-title">
  <div class="container">
    <div class="column">
      <h1>Cart</h1>
    </div>
    <div class="column">
      <ul class="breadcrumbs">
        <li><a [routerLink]="['/']">Home</a>
        </li>
        <li class="separator">&nbsp;</li>
        <li>Cart</li>
      </ul>
    </div>
  </div>
</div>
<!-- Page Content-->
<div class="container padding-bottom-3x mb-1">
  <!-- Shopping Cart-->
  <div class="table-responsive shopping-cart">
    <table class="table">
      <thead>
      <tr>
        <th>Product Name</th>
        <th class="text-center">Quantity</th>
        <th class="text-center">Subtotal</th>
        <th class="text-center">Discount</th>
        <th class="text-center">
          <a class="btn btn-sm btn-outline-danger"
             [hidden]="!items"
             (click)="onClearCart()">Clear Cart</a>
        </th>
      </tr>
      </thead>
      <tbody>
      <tr *ngFor="let item of items|async">
        <td>
          <div class="product-item">
            <a class="product-thumb" [routerLink]="['/product', item.productId]">
              <img src="{{productImageFolder+item.image}}" alt="{{item.name}}">
            </a>
            <div class="product-info">
              <h4 class="product-title">
                <a [routerLink]="['/product/',item.productId]">{{item.name}}</a>
              </h4>
              <span><em>Size:</em> {{item.attributes.split(',')[0]}}</span>
              <span><em>Color:</em> {{item.attributes.split(',')[1]}}</span>
            </div>
          </div>
        </td>
        <td class="qty">
          <div class="quantity">
            <span class="qty-minus" (click)="onDecrement($event, item)">
              <i class="icon icon-minus" aria-hidden="true"></i>
              </span>
            <input type="number" class="qty-text" id="qty_{{item.productId}}" step="1" min="1" max="99" name="quantity"
                   [(ngModel)]="item.quantity" [value]="item.quantity" (ngModelChange)="onQuantityChange($event, item)">
            <span class="qty-plus" (click)="onIncrement($event, item)">
              <i class="icon icon-plus" aria-hidden="true"></i>
            </span>
          </div>
        </td>
        <td class="text-center text-lg text-medium">{{item.subtotal| number : '1.2'}}</td>
        <td class="text-center text-lg text-medium">{{item.unitCost| number : '1.2'}}</td>
        <td class="text-center">
          <a class="remove-from-cart" data-toggle="tooltip" title="Remove item" (click)="onRemoveItem(item)">
            <i class="icon-cross"></i>
          </a>
        </td>
      </tr>
      </tbody>
    </table>
  </div>
  <div class="shopping-cart-footer">
    <div class="column">
      <form class="coupon-form" method="post">
        <input class="form-control form-control-sm" type="text" placeholder="Coupon code" required>
        <button class="btn btn-outline-primary btn-sm" type="submit">Apply Coupon</button>
      </form>
    </div>
    <div class="column text-lg">Subtotal: <span class="text-medium">{{model.cartTotal | number : '1.2'}}</span></div>
  </div>
  <div class="shopping-cart-footer">
    <div class="column">
      <a class="btn btn-outline-secondary" [routerLink]="['/catalogue']">
        <i class="icon-arrow-left"></i>&nbsp;Back to Shopping</a>
    </div>
    <div class="column">
      <button class="btn btn-primary" href="#" data-toast data-toast-type="success"
              data-toast-position="topRight" data-toast-icon="icon-circle-check"
              data-toast-title="Your cart" data-toast-message="is updated successfully!"
              (click)="onUpdateCart()">Update Cart
      </button>
      <a class="btn btn-success" (click)="goToCheckout()">Checkout</a>
    </div>
  </div>
  <!-- Related Products Carousel-->
  <h3 class="text-center padding-top-2x mt-2 padding-bottom-1x d-none">You May Also Like</h3>
  <!-- Carousel-->
  <div class="owl-carousel  d-none"
       data-owl-carousel="{ &quot;nav&quot;: false, &quot;dots&quot;: true, &quot;margin&quot;: 30, &quot;responsive&quot;: {&quot;0&quot;:{&quot;items&quot;:1},&quot;576&quot;:{&quot;items&quot;:2},&quot;768&quot;:{&quot;items&quot;:3},&quot;991&quot;:{&quot;items&quot;:4},&quot;1200&quot;:{&quot;items&quot;:4}} }">
    <!-- Product-->
    <div class="grid-item">
      <div class="product-card">
        <div class="product-badge text-danger">22% Off</div>
        <a class="product-thumb" href="shop-single.html"><img src="./assets/img/shop/products/09.jpg" alt="Product"></a>
        <h3 class="product-title"><a href="shop-single.html">Rocket Dog</a></h3>
        <h4 class="product-price">
          <del>$44.95</del>
          $34.99
        </h4>
        <div class="product-buttons">
          <button class="btn btn-outline-secondary btn-sm btn-wishlist" data-toggle="tooltip" title="Whishlist"><i
            class="icon-heart"></i></button>
          <button class="btn btn-outline-primary btn-sm" data-toast data-toast-type="success"
                  data-toast-position="topRight" data-toast-icon="icon-circle-check" data-toast-title="Product"
                  data-toast-message="successfuly added to cart!">Add to Cart
          </button>
        </div>
      </div>
    </div>
    <!-- Product-->
    <div class="grid-item">
      <div class="product-card">
        <div class="rating-stars"><i class="icon-star filled"></i><i class="icon-star filled"></i><i
          class="icon-star filled"></i><i class="icon-star filled"></i><i class="icon-star"></i>
        </div>
        <a class="product-thumb" href="shop-single.html"><img src="./assets/img/shop/products/03.jpg" alt="Product"></a>
        <h3 class="product-title"><a href="shop-single.html">Oakley Kickback</a></h3>
        <h4 class="product-price">$155.00</h4>
        <div class="product-buttons">
          <button class="btn btn-outline-secondary btn-sm btn-wishlist" data-toggle="tooltip" title="Whishlist"><i
            class="icon-heart"></i></button>
          <button class="btn btn-outline-primary btn-sm" data-toast data-toast-type="success"
                  data-toast-position="topRight" data-toast-icon="icon-circle-check" data-toast-title="Product"
                  data-toast-message="successfuly added to cart!">Add to Cart
          </button>
        </div>
      </div>
    </div>
    <!-- Product-->
    <div class="grid-item">
      <div class="product-card"><a class="product-thumb" href="shop-single.html"><img
        src="./assets/img/shop/products/12.jpg"
        alt="Product"></a>
        <h3 class="product-title"><a href="shop-single.html">Vented Straw Fedora</a></h3>
        <h4 class="product-price">$49.50</h4>
        <div class="product-buttons">
          <button class="btn btn-outline-secondary btn-sm btn-wishlist" data-toggle="tooltip" title="Whishlist"><i
            class="icon-heart"></i></button>
          <button class="btn btn-outline-primary btn-sm" data-toast data-toast-type="success"
                  data-toast-position="topRight" data-toast-icon="icon-circle-check" data-toast-title="Product"
                  data-toast-message="successfuly added to cart!">Add to Cart
          </button>
        </div>
      </div>
    </div>
    <!-- Product-->
    <div class="grid-item">
      <div class="product-card">
        <div class="rating-stars"><i class="icon-star filled"></i><i class="icon-star filled"></i><i
          class="icon-star filled"></i><i class="icon-star filled"></i><i class="icon-star filled"></i>
        </div>
        <a class="product-thumb" href="shop-single.html"><img src="./assets/img/shop/products/11.jpg" alt="Product"></a>
        <h3 class="product-title"><a href="shop-single.html">Top-Sider Fathom</a></h3>
        <h4 class="product-price">$90.00</h4>
        <div class="product-buttons">
          <button class="btn btn-outline-secondary btn-sm btn-wishlist" data-toggle="tooltip" title="Whishlist"><i
            class="icon-heart"></i></button>
          <button class="btn btn-outline-primary btn-sm" data-toast data-toast-type="success"
                  data-toast-position="topRight" data-toast-icon="icon-circle-check" data-toast-title="Product"
                  data-toast-message="successfuly added to cart!">Add to Cart
          </button>
        </div>
      </div>
    </div>
    <!-- Product-->
    <div class="grid-item">
      <div class="product-card"><a class="product-thumb" href="shop-single.html"><img
        src="./assets/img/shop/products/04.jpg"
        alt="Product"></a>
        <h3 class="product-title"><a href="shop-single.html">Waist Leather Belt</a></h3>
        <h4 class="product-price">$47.00</h4>
        <div class="product-buttons">
          <button class="btn btn-outline-secondary btn-sm btn-wishlist" data-toggle="tooltip" title="Whishlist"><i
            class="icon-heart"></i></button>
          <button class="btn btn-outline-primary btn-sm" data-toast data-toast-type="success"
                  data-toast-position="topRight" data-toast-icon="icon-circle-check" data-toast-title="Product"
                  data-toast-message="successfuly added to cart!">Add to Cart
          </button>
        </div>
      </div>
    </div>
    <!-- Product-->
    <div class="grid-item">
      <div class="product-card">
        <div class="product-badge text-danger">50% Off</div>
        <a class="product-thumb" href="shop-single.html"><img src="./assets/img/shop/products/01.jpg" alt="Product"></a>
        <h3 class="product-title"><a href="shop-single.html">Unionbay Park</a></h3>
        <h4 class="product-price">
          <del>$99.99</del>
          $49.99
        </h4>
        <div class="product-buttons">
          <button class="btn btn-outline-secondary btn-sm btn-wishlist" data-toggle="tooltip" title="Whishlist"><i
            class="icon-heart"></i></button>
          <button class="btn btn-outline-primary btn-sm" data-toast data-toast-type="success"
                  data-toast-position="topRight" data-toast-icon="icon-circle-check" data-toast-title="Product"
                  data-toast-message="successfuly added to cart!">Add to Cart
          </button>
        </div>
      </div>
    </div>
  </div>
</div>
